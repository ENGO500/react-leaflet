[{"C:\\Users\\Comma\\Desktop\\Capstone Folder\\react-leaflet\\src\\index.js":"1","C:\\Users\\Comma\\Desktop\\Capstone Folder\\react-leaflet\\src\\App.js":"2","C:\\Users\\Comma\\Desktop\\Capstone Folder\\react-leaflet\\src\\modal.js":"3","C:\\Users\\Comma\\Desktop\\Capstone Folder\\react-leaflet\\src\\loginComponents\\login.js":"4","C:\\Users\\Comma\\Desktop\\Capstone Folder\\react-leaflet\\src\\loginComponents\\dashboard.js":"5"},{"size":295,"mtime":1615315409062,"results":"6","hashOfConfig":"7"},{"size":3842,"mtime":1615329312869,"results":"8","hashOfConfig":"7"},{"size":1610,"mtime":1615328158589,"results":"9","hashOfConfig":"7"},{"size":5437,"mtime":1615315409064,"results":"10","hashOfConfig":"7"},{"size":9936,"mtime":1615668731395,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"14","usedDeprecatedRules":"15"},"1ehhn0x",{"filePath":"16","messages":"17","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18","usedDeprecatedRules":"15"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"15"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24","usedDeprecatedRules":"15"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\Comma\\Desktop\\Capstone Folder\\react-leaflet\\src\\index.js",["27","28"],"import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n  <App />,\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n\r\n",["29","30"],"C:\\Users\\Comma\\Desktop\\Capstone Folder\\react-leaflet\\src\\App.js",["31","32","33","34","35"],"import React, { useState, useEffect } from 'react';\r\nimport './App.css'\r\nimport Login from './loginComponents/login';\r\nimport Dashboard from './loginComponents/dashboard';\r\nimport { BrowserRouter, Route, Switch, useHistory } from 'react-router-dom';\r\nimport axios from 'axios'\r\n\r\nimport {\r\n  MapContainer,\r\n  TileLayer,\r\n  Marker,\r\n  Popup,\r\n  ImageOverlay,\r\n  Polygon,\r\n  GeoJSON,\r\n  FeatureGroup,\r\n  useMapEvent,\r\n  useMapEvents,\r\n} from 'react-leaflet'\r\n\r\nimport {\r\n  EuiButton,\r\n  EuiPage,\r\n  EuiPageSideBar,\r\n  EuiText,\r\n  EuiTitle,\r\n} from '@elastic/eui';\r\n\r\nimport ModalExample from \"./modal.js\"\r\n\r\n\r\n//Import JSON file\r\nconst roomData = require('./geojson.json');\r\n\r\nconst GetData = (props) => {\r\n\r\n  const [buildings,setBuildings] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios({\r\n      method: 'get',\r\n      url:`https://engo500.herokuapp.com/building`\r\n  }).then(res => setBuildings(res.data))\r\n  }, [])\r\n\r\n  return (\r\n     buildings.map(points => <Marker position={[points.lat,points.lon]} riseOnHover=\"true\">\r\n        <Popup>\r\n         Name: {points.Name} <br /><br />\r\n         <EuiButton onClick={() => {\r\n           props.changeView(); \r\n           props.globalToLocal(points)\r\n           }}>View</EuiButton>\r\n       </Popup>\r\n     </Marker>)\r\n  )\r\n\r\n}\r\n\r\nfunction DisplayGeoJSONData(props) {\r\n  const [modal, setModal] = useState(false);\r\n  const [selectedFeature, setSelectedFeature] = useState({});\r\n\r\n  const toggle = () => setModal(!modal);\r\n\r\n  const room = props.room;\r\n  return (\r\n  <>\r\n  {room.map((feature, index) => {\r\n    return (\r\n      <FeatureGroup key={index}>\r\n        <Popup>\r\n          <p>{feature.roomNumber}</p>\r\n          <EuiButton id=\"button\"\r\n          onClick={() => {\r\n            toggle(true);\r\n            setSelectedFeature(feature);\r\n          }}\r\n          >\r\n          More Info\r\n          </EuiButton>\r\n        </Popup>\r\n        <Polygon\r\n          positions={feature.flipC}\r\n        />\r\n        <ModalExample\r\n        modal={modal}\r\n        toggle={toggle}\r\n        selectedFeature={selectedFeature}\r\n        />\r\n      </FeatureGroup>\r\n    );\r\n  })}\r\n  </>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\nlet DisplayMap = () => {\r\n\r\n  const [mapState,setMap] = useState(false);\r\n  const [Url,setUrl] = useState('');\r\n  let position = [51.0447,-114.0719]\r\n  let mapBounds =  [[0,0],[330,255]];\r\n\r\n  const globalToLocal = (index) => { \r\n    setUrl(index);\r\n  };\r\n\r\n  const history = useHistory();\r\n  \r\n  return (\r\n    <EuiPage>\r\n    <EuiPageSideBar>\r\n      <EuiTitle><h3>ENGO 500 Capstone</h3></EuiTitle>\r\n      <EuiText>\r\n      <EuiButton id=\"button\" onClick={() => {history.push('/login')}}>Log in or Register</EuiButton>\r\n\r\n      <br/><br/>\r\n      {mapState\r\n      ? <EuiButton id=\"toggleMap\" onClick={() => setMap(false)}>Close Local Map</EuiButton>\r\n      : <></>\r\n      }\r\n      </EuiText>\r\n    </EuiPageSideBar>\r\n      {mapState\r\n      ?<div class=\"leaflet-container\">\r\n      <MapContainer zoom={-5} bounds={mapBounds}>\r\n        <ImageOverlay\r\n          url = {Url.floorplans[0].floorplanImage}\r\n          bounds={mapBounds}\r\n          zoom={10}\r\n        />\r\n        <DisplayGeoJSONData room={Url.floorplans[0].rooms} />\r\n      </MapContainer>\r\n      </div>\r\n      :<MapContainer center={position} zoom={13}>\r\n        <TileLayer attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors' url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"/>\r\n        <GetData changeView={() => setMap(true)} globalToLocal={globalToLocal}></GetData>\r\n      </MapContainer>\r\n      }\r\n    </EuiPage>\r\n  )\r\n\r\n\r\n}\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <div >\r\n      <Switch>\r\n      <Route path=\"/\" component={DisplayMap} exact />\r\n      <Route path=\"/login\" component={Login} />\r\n      <Route path=\"/dashboard\" component={Dashboard} />\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","C:\\Users\\Comma\\Desktop\\Capstone Folder\\react-leaflet\\src\\modal.js",["36","37"],"import React, { useState } from 'react';\r\nimport {\r\n  EuiButton,\r\n  EuiModal,\r\n  EuiModalBody,\r\n  EuiModalFooter,\r\n  EuiModalHeader,\r\n  EuiModalHeaderTitle,\r\n  EuiOverlayMask,\r\n  EuiText,\r\n} from '@elastic/eui';\r\n\r\n\r\nconst ModalExample = ({ modal, toggle, selectedFeature }) => {\r\n\r\n  let modalBox;\r\n\r\n  if (modal) {\r\n    modalBox =\r\n    <EuiOverlayMask onClick={toggle}>\r\n      <EuiModal onClose={toggle}>\r\n      <EuiModalHeader>\r\n        <EuiModalHeaderTitle>Room Information</EuiModalHeaderTitle>\r\n      </EuiModalHeader>\r\n      <EuiModalBody>\r\n          <p>\r\n            <b>Name: </b>\r\n            {selectedFeature &&\r\n              selectedFeature.roomNumber &&\r\n              selectedFeature.roomNumber}\r\n          </p>\r\n          <p>\r\n            <b>Room Capacity: </b>\r\n            {selectedFeature &&\r\n              selectedFeature.properties &&\r\n              selectedFeature.properties.roomCapacity}\r\n          </p>\r\n          <p>\r\n            <b>Current Capacity: </b>\r\n            {selectedFeature &&\r\n              selectedFeature.properties &&\r\n              selectedFeature.properties.roomCapacity}\r\n          </p>\r\n          <p>\r\n            <b>Estimated COVID-19 Risk: </b>\r\n            {selectedFeature &&\r\n              selectedFeature.cProb &&\r\n              selectedFeature.cProb}\r\n          </p>\r\n      </EuiModalBody>\r\n      <EuiModalFooter>\r\n        <EuiButton onClick={toggle} fill>\r\n          Close\r\n        </EuiButton>\r\n      </EuiModalFooter>\r\n      </EuiModal>\r\n    </EuiOverlayMask>\r\n  }\r\n\r\n  return (\r\n    <>\r\n    {modalBox}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ModalExample;\r\n","C:\\Users\\Comma\\Desktop\\Capstone Folder\\react-leaflet\\src\\loginComponents\\login.js",["38","39","40"],"\r\nimport React, {useEffect, useState} from 'react';\r\nimport axios from 'axios'\r\nimport '@elastic/eui/dist/eui_theme_light.css';\r\nimport { useHistory } from 'react-router-dom';\r\nimport {\r\n    EuiPage,\r\n    EuiPageBody,\r\n    EuiFieldText,\r\n    EuiButton,\r\n    EuiForm,\r\n    EuiCallOut,\r\n    EuiCard,\r\n    EuiText,\r\n    EuiFieldPassword,\r\n    EuiFlexGroup,\r\n    EuiSpacer,\r\n  } from '@elastic/eui';\r\n\r\n\r\n   const LoginState = () =>{\r\n    const [newUsername, setNewUsername] = useState('') \r\n    const [newPassowrd, setNewPassword] = useState('') \r\n    const [message, setM] = useState('') \r\n    const [lors,setlors] = useState(\"signup\");\r\n\r\n    const history = useHistory();\r\n\r\n    const signupf = (event) => {\r\n        event.preventDefault();\r\n        axios({\r\n            method: 'post',\r\n            url:'https://engo500.herokuapp.com/user',\r\n            data: {\r\n              username: newUsername,\r\n              password: newPassowrd,\r\n            }\r\n          }).then(res => {\r\n            setM('success')\r\n            setNewUsername('')\r\n            setNewPassword('')\r\n            setTimeout(()=>setM(''),3000)\r\n          })\r\n          .catch(error => {\r\n            setM('error')\r\n            setNewUsername('')\r\n            setNewPassword('')\r\n            setTimeout(()=>setM(''),3000)\r\n          })\r\n    }\r\n    \r\n    const loginf = (event) => {\r\n        event.preventDefault();\r\n        axios({\r\n            method: 'post',\r\n            url:'https://engo500.herokuapp.com/login',\r\n            data: {\r\n              username: newUsername,\r\n              password: newPassowrd,\r\n            }\r\n        }).then(res => {\r\n            setM('success')\r\n            setNewUsername('')\r\n            setNewPassword('')\r\n            window.localStorage.setItem('loggedInUser', JSON.stringify(res))\r\n            setTimeout(()=> history.push('/dashboard'),3000)\r\n          }).catch(error => {\r\n            setM('error')\r\n            setNewUsername('')\r\n            setNewPassword('')\r\n            setTimeout(()=>setM(''),3000)\r\n          })\r\n\r\n    }\r\n    \r\n    if(lors === \"signup\") {\r\n        return (\r\n            <EuiCard style={{maxWidth:'600px', justifyContent:'center',}}>\r\n            {(() => {\r\n                switch (message) {\r\n                case \"success\" : return <EuiCallOut title=\"Signup successful. Please login.\"color=\"success\" iconType=\"user\"></EuiCallOut>\r\n                case \"error\" : return <EuiCallOut title=\"Something went wrong. Please try again.\"color=\"danger\" iconType=\"alert\"></EuiCallOut>\r\n                default: return <></>\r\n                }\r\n            })()}\r\n            <EuiText><h1>Signup</h1></EuiText>\r\n            <EuiSpacer></EuiSpacer>\r\n            <EuiForm component=\"form\" onSubmit={signupf}>\r\n            <EuiFieldText\r\n                    placeholder=\"Username\"\r\n                    fullWidth\r\n                    value={newUsername}\r\n                    onChange={(e) => setNewUsername(e.target.value)}\r\n                />\r\n                <EuiSpacer></EuiSpacer>\r\n            <EuiFieldPassword\r\n                    placeholder=\"Password\"\r\n                    fullWidth\r\n                    value={newPassowrd}\r\n                    onChange={(e) => setNewPassword(e.target.value)}\r\n                />\r\n                <EuiSpacer></EuiSpacer>\r\n            <EuiButton type=\"submit\">Submit</EuiButton>\r\n            <EuiSpacer></EuiSpacer>\r\n            <EuiText><p>Already have an account? <a onClick ={()=>{setlors(\"login\")}}>Sign in.</a></p></EuiText>\r\n            </EuiForm>\r\n\r\n        </EuiCard>\r\n        )\r\n    }\r\n    return (\r\n        <EuiCard style={{maxWidth:'600px', justifyContent:'center',}}>\r\n            {(() => {\r\n                switch (message) {\r\n                case \"success\" : return <EuiCallOut title=\"Login successful. Redirecting you to the dashboard.\"color=\"success\" iconType=\"user\"></EuiCallOut>\r\n                case \"error\" : return <EuiCallOut title=\"Something went wrong. Please try again.\"color=\"danger\" iconType=\"alert\"></EuiCallOut>\r\n                default: return <></>\r\n                }\r\n            })()}\r\n            <EuiText><h1>Login</h1></EuiText>\r\n            <EuiSpacer></EuiSpacer>\r\n            <EuiForm component=\"form\" onSubmit={loginf}>\r\n            <EuiFieldText\r\n                    placeholder=\"Username\"\r\n                    fullWidth\r\n                    value={newUsername}\r\n                    onChange={(e) => setNewUsername(e.target.value)}\r\n                />\r\n                <EuiSpacer></EuiSpacer>\r\n            <EuiFieldPassword\r\n                    placeholder=\"Password\"\r\n                    fullWidth\r\n                    value={newPassowrd}\r\n                    onChange={(e) => setNewPassword(e.target.value)}\r\n                />\r\n                <EuiSpacer></EuiSpacer>\r\n            <EuiButton type=\"submit\">Submit</EuiButton>\r\n            <EuiSpacer></EuiSpacer>\r\n            <EuiText><p>Don't have an account? <a onClick ={()=>{setlors(\"signup\")}}>Sign up.</a></p></EuiText>\r\n            </EuiForm>\r\n\r\n        </EuiCard>\r\n    )\r\n}\r\n\r\n\r\nconst Login = () => {\r\n\r\n    \r\n\r\n    return (\r\n        <>\r\n        <EuiPage style={{display:'flex', height:'100vh'}}>\r\n        <EuiPageBody component=\"div\">\r\n            <EuiFlexGroup justifyContent='center' alignItems='center'>\r\n            <LoginState/>\r\n            </EuiFlexGroup>\r\n        </EuiPageBody>\r\n        </EuiPage>\r\n        </>\r\n    \r\n    )\r\n\r\n}\r\n\r\nexport default Login;\r\n","C:\\Users\\Comma\\Desktop\\Capstone Folder\\react-leaflet\\src\\loginComponents\\dashboard.js",["41"],{"ruleId":"42","severity":1,"message":"43","line":5,"column":25,"nodeType":"44","messageId":"45","endLine":5,"endColumn":30},{"ruleId":"42","severity":1,"message":"46","line":5,"column":32,"nodeType":"44","messageId":"45","endLine":5,"endColumn":38},{"ruleId":"47","replacedBy":"48"},{"ruleId":"49","replacedBy":"50"},{"ruleId":"42","severity":1,"message":"51","line":5,"column":10,"nodeType":"44","messageId":"45","endLine":5,"endColumn":23},{"ruleId":"42","severity":1,"message":"52","line":15,"column":3,"nodeType":"44","messageId":"45","endLine":15,"endColumn":10},{"ruleId":"42","severity":1,"message":"53","line":17,"column":3,"nodeType":"44","messageId":"45","endLine":17,"endColumn":14},{"ruleId":"42","severity":1,"message":"54","line":18,"column":3,"nodeType":"44","messageId":"45","endLine":18,"endColumn":15},{"ruleId":"42","severity":1,"message":"55","line":33,"column":7,"nodeType":"44","messageId":"45","endLine":33,"endColumn":15},{"ruleId":"42","severity":1,"message":"56","line":1,"column":17,"nodeType":"44","messageId":"45","endLine":1,"endColumn":25},{"ruleId":"42","severity":1,"message":"57","line":10,"column":3,"nodeType":"44","messageId":"45","endLine":10,"endColumn":10},{"ruleId":"42","severity":1,"message":"58","line":2,"column":16,"nodeType":"44","messageId":"45","endLine":2,"endColumn":25},{"ruleId":"59","severity":1,"message":"60","line":105,"column":50,"nodeType":"61","endLine":105,"endColumn":87},{"ruleId":"59","severity":1,"message":"60","line":139,"column":48,"nodeType":"61","endLine":139,"endColumn":86},{"ruleId":"62","severity":1,"message":"63","line":56,"column":20,"nodeType":"64","messageId":"65","endLine":56,"endColumn":22},"no-unused-vars","'Route' is defined but never used.","Identifier","unusedVar","'Switch' is defined but never used.","no-native-reassign",["66"],"no-negated-in-lhs",["67"],"'BrowserRouter' is defined but never used.","'GeoJSON' is defined but never used.","'useMapEvent' is defined but never used.","'useMapEvents' is defined but never used.","'roomData' is assigned a value but never used.","'useState' is defined but never used.","'EuiText' is defined but never used.","'useEffect' is defined but never used.","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation"]